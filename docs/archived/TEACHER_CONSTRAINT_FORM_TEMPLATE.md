# 講師制約条件Googleフォーム案

## 概要
講師の要望を統一フォーマットで収集し、システムで自動処理可能な形式に変換するためのGoogleフォーム設計案。

## フォーム項目設計

### 基本情報セクション

#### 1. 講師名（必須）
- **入力形式**: テキスト入力
- **説明**: お名前を入力してください

#### 2. 担当科目（必須）
- **入力形式**: チェックボックス（複数選択可）
- **選択肢**: サマリシートから自動生成
- **その他の選択肢**: 自由記述欄あり

### NG制約セクション（絶対不可の条件）

#### 3. NG制約の有無（必須）
- **入力形式**: ラジオボタン
- **選択肢**:
  - あり → 詳細入力へ
  - なし → 希望セクションへスキップ

#### 4. NG制約詳細（条件付き表示）

##### 4-1. 曜日のNG
- **入力形式**: チェックボックス
- **選択肢**: 
  - □ 月曜日
  - □ 火曜日
  - □ 水曜日
  - □ 木曜日
  - □ 金曜日

##### 4-2. 時限のNG
- **入力形式**: チェックボックス
- **選択肢**:
  - □ 1限（9:00-10:30）
  - □ 2限（10:40-12:10）
  - □ 3限（13:00-14:30）
  - □ 4限（14:40-16:10）

##### 4-3. 特定期間のNG
- **入力形式**: 日付範囲選択（任意）
- **説明**: 特定期間だけNGの場合（例：出張、検診等）
- **フィールド**:
  - 開始日：[カレンダー選択]
  - 終了日：[カレンダー選択]
  - 理由：[テキスト入力]

##### 4-4. その他のNG条件
- **入力形式**: 長文テキスト（任意）
- **説明**: 上記以外の複雑な条件があれば記載してください
- **例文**:
  ```
  例：
  - 4月から6月は金曜日NG
  - 毎週水曜日の1-2限は会議
  - 6/10-12と7/8-9は検診のため不可
  ```

### 希望セクション（できるだけ配慮する条件）

#### 5. 希望の有無（必須）
- **入力形式**: ラジオボタン
- **選択肢**:
  - あり → 詳細入力へ
  - なし → 確認画面へ

#### 6. 希望詳細（条件付き表示）

##### 6-1. 曜日の希望
- **入力形式**: チェックボックス
- **選択肢**:
  - □ 月曜日希望
  - □ 火曜日希望
  - □ 水曜日希望
  - □ 木曜日希望
  - □ 金曜日希望

##### 6-2. 時限の希望
- **入力形式**: チェックボックス
- **選択肢**:
  - □ 午前中希望（1-2限）
  - □ 午後希望（3-4限）
  - □ 1限希望
  - □ 2限希望
  - □ 3限希望
  - □ 4限希望

##### 6-3. 授業配置の希望
- **入力形式**: チェックボックス（複数選択可）
- **選択肢**:
  - □ 連続コマ希望（2コマ連続）
  - □ 週1日に集約希望
  - □ 週2日に集約希望
  - □ 前半期間に集中希望
  - □ 後半期間に集中希望

##### 6-4. 完了期限の希望
- **入力形式**: 日付選択（任意）
- **説明**: 特定日までに全授業を完了したい場合
- **例**: 8月末までに全授業完了希望

##### 6-5. その他の希望
- **入力形式**: 長文テキスト（任意）
- **説明**: 上記以外の希望があれば記載してください
- **例文**:
  ```
  例：
  - なるべく月火に集中させてほしい
  - 8月末までにすべての授業を終わらせたい
  - 午前中（1-2限）が望ましい
  ```

### 確認セクション

#### 7. 備考・補足事項（任意）
- **入力形式**: 長文テキスト
- **説明**: その他、配慮が必要な事情があれば記載してください

#### 8. 優先順位（任意）
- **入力形式**: ラジオボタン
- **質問**: 制約条件が競合した場合の優先順位を教えてください
- **選択肢**:
  - NG条件を最優先（他の希望は妥協可）
  - 曜日を優先
  - 時限を優先
  - 連続コマを優先
  - 期限を優先

## フォーム設定

### 回答の収集設定
- **メールアドレスの収集**: 有効
- **回答のコピーを送信**: 有効
- **回答の編集を許可**: 有効
- **重複回答**: 1人1回まで

### 確認メッセージ
```
ご回答ありがとうございました。
入力内容を確認し、時間割作成に反映させていただきます。
変更が必要な場合は、送信されたメールから編集リンクにアクセスしてください。
```

## スプレッドシート連携

### 自動処理カラム
Googleフォーム回答スプレッドシートに以下のカラムを追加：

| カラム名 | 内容 |
|---------|------|
| processed | 処理済みフラグ |
| ng_rules | 構造化NGルール（JSON） |
| soft_rules | 構造化希望ルール（JSON） |
| confidence | 解析信頼度（0-1） |
| notes | システムメモ |

## データ変換仕様

### NGルール変換例
```javascript
入力: "4月から6月は金曜日NG"
↓
出力: {
  "strength": "HARD",
  "period": {
    "start": "2025-04-01",
    "end": "2025-06-30"
  },
  "days": ["金"],
  "confidence": 0.9
}
```

### 希望ルール変換例
```javascript
入力: "なるべく月火に集中"
↓
出力: {
  "strength": "SOFT",
  "days": ["月", "火"],
  "type": "concentrate",
  "confidence": 0.8
}
```

## 実装フェーズ

### Phase 1（MVP）
- Googleフォーム作成
- 基本的な選択肢入力
- スプレッドシート連携

### Phase 2（自動処理）
- 自然言語解析
- JSON変換
- システム連携API

### Phase 3（高度化）
- 複雑な条件の解析
- 競合検出
- 自動提案

## 配布・運用計画

### 配布タイミング
- クライアントからの講師要望確認完了後（来週月曜午後以降）

### 運用フロー
1. **学校側でGoogleフォーム作成**（ダイさん担当）
2. フォームURL配布
3. 講師が各自入力
4. 管理者が確認・調整
5. システムに自動反映
6. 時間割生成

### 備考
- Googleフォームは学校側（ダイさん）で作成・管理
- このテンプレートを参考資料として提供

---

**ステータス**: テンプレート設計完了（学校側でフォーム作成予定）  
**最終更新**: 2025/08/22  
**次のアクション**: ダイさんにテンプレート共有、学校側でGoogleフォーム作成